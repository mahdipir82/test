{% extends "maintemplate.html" %}
{% load static %}
{% block content %}
<!-- Blog Page -->
   <div class="container mx-auto px-4 py-16">
        <div class="text-center mb-12">
            <h2
                class="text-5xl font-bold mb-4 dark:text-white bg-gradient-to-r from-[#008B8B] to-[#006666] bg-clip-text text-transparent">
                Ø¨Ù„Ø§Ú¯ Ùˆ Ù…Ù‚Ø§Ù„Ø§Øª
            </h2>
            <p class="text-xl text-gray-600 dark:text-gray-400">Ø¢Ø®Ø±ÛŒÙ† Ø§Ø®Ø¨Ø§Ø± Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒâ€ŒÙ‡Ø§ÛŒ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ</p>
        </div>

        {% if posts %}
            {% with featured_post=posts.0 %}
                <div class="mb-12">
                    <div class="form-glass rounded-3xl overflow-hidden">
                        <div class="grid lg:grid-cols-2 gap-0">
                            <div class="relative">
                                {% if featured_post.cover_image %}
                                    <img src="{{ featured_post.cover_image.url }}" alt="{{ featured_post.title }}"
                                        class="w-full h-80 lg:h-full object-cover">
                                {% else %}
                                    <div class="w-full h-80 lg:h-full bg-gradient-to-r from-gray-100 to-gray-200 flex items-center justify-center">
                                        <span class="text-5xl">ğŸ“°</span>
                                    </div>
                                     {% endif %}
                                <div
                                    class="absolute top-4 right-4 bg-gradient-to-r from-red-500 to-pink-500 text-white px-4 py-2 rounded-full text-sm font-bold">
                                    Ù…Ù‚Ø§Ù„Ù‡ ÙˆÛŒÚ˜Ù‡
                                </div>
                            </div>
                            <div class="p-8 lg:p-12">
                                <div class="flex items-center gap-4 mb-4">
                                    <span class="bg-[#008B8B] text-white px-3 py-1 rounded-full text-sm">Ù…Ù‚Ø§Ù„Ù‡ Ø¬Ø¯ÛŒØ¯</span>
                                    <span class="text-gray-500 text-sm">{{ featured_post.created_at|date:"Y/m/d" }}</span>
                                </div>
                                <h3 class="text-3xl font-bold mb-4 dark:text-white">{{ featured_post.title }}</h3>
                                <p class="text-gray-600 dark:text-gray-400 mb-6 leading-relaxed">
                                    {{ featured_post.content|truncatechars:230 }}
                                </p>
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-3">
                                        <div
                                            class="w-10 h-10 bg-gradient-to-r from-[#008B8B] to-[#006666] rounded-full flex items-center justify-center text-white font-bold">
                                            {{ featured_post.title|first|default_if_none:"" }}
                                        </div>
                                        <div>
                                            <p class="font-medium dark:text-white">ØªÚ©â€ŒØ§Ø³ØªÙˆØ±</p>
                                            <p class="text-sm text-gray-500">Ø§Ù…ØªÛŒØ§Ø² {{ featured_post.avg_rating|default:0|floatformat:1 }} â­</p>
                                        </div>
                                      
                                    </div>
                                 <a href="{{ featured_post.get_absolute_url }}"
                                        class="btn-primary btn-modern px-6 py-3 rounded-xl">Ù…Ø·Ø§Ù„Ø¹Ù‡ Ù…Ù‚Ø§Ù„Ù‡</a>
                                </div>
                            
                        </div>
                    </div>
                </div>
            {% endwith %}

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for post in posts|slice:"1:" %}
                    <a href="{{ post.get_absolute_url }}"
                        class="form-glass rounded-2xl overflow-hidden hover:scale-105 transition-all duration-300 block">
                        <div class="relative">
                            {% if post.cover_image %}
                                <img src="{{ post.cover_image.url }}" alt="{{ post.title }}" class="w-full h-48 object-cover">
                            {% else %}
                                <div class="w-full h-48 bg-gradient-to-r from-gray-100 to-gray-200 flex items-center justify-center">
                                    <span class="text-3xl">ğŸ“°</span>
                                </div>
                            {% endif %}
                            <div class="absolute top-4 right-4 bg-[#008B8B] text-white px-3 py-1 rounded-full text-xs font-bold">
                                Ø¬Ø¯ÛŒØ¯
                            </div>
                        </div>
                        <div class="p-6">
                            <h4 class="font-bold text-lg mb-3 dark:text-white line-clamp-2">{{ post.title }}</h4>
                            <p class="text-gray-600 dark:text-gray-400 mb-4 text-sm leading-relaxed line-clamp-3">
                                {{ post.content|truncatechars:150 }}
                            </p>
                            <div class="flex justify-between items-center text-sm">
                                <span class="text-gray-500 dark:text-gray-400">{{ post.created_at|date:"Y/m/d" }}</span>
                                <div class="flex items-center gap-3 text-gray-500 dark:text-gray-400">
                                    <span>â­ {{ post.avg_rating|default:0|floatformat:1 }}</span>
                                    <span>{{ post.comment_count|default:0 }} Ù†Ø¸Ø±</span>
                                </div>
                            </div>
                        </div>
                    </a>
                {% empty %}
                    <p class="text-center text-gray-500 dark:text-gray-400">Ù…Ù‚Ø§Ù„Ù‡ Ø¯ÛŒÚ¯Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯.</p>
                {% endfor %}
        </div>
        </div>
        </div>
          {% else %}
            <div class="form-glass rounded-2xl p-8 text-center">
                <p class="text-gray-600 dark:text-gray-300">Ù‡Ù†ÙˆØ² Ù…Ù‚Ø§Ù„Ù‡â€ŒØ§ÛŒ Ù…Ù†ØªØ´Ø± Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>
            </div>
        {% endif %}
    </div>
    
{% endblock %}